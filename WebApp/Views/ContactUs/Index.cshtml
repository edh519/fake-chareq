@using WebApp.Controllers
@using BusinessLayer.ViewModels
@model IEnumerable<BusinessLayer.ViewModels.ContactUsViewModel>

@{
    ViewData["Title"] = "Contact Us";
}

<link rel="stylesheet" href="~/css/contact-us-index.css">


<div class="row">
    <div class="col">
        <h2 class="info-header">Contact Us Submissions</h2>

        <table class="table table-hover table-theme-toggle" id="contactUsTable">
            <thead>
                <tr>
                    @* id field hidden *@
                    <th class="hide"></th>
                    <th>
                        @Html.DisplayNameFor(model => model.Email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Message)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Actioned)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Submitted)
                    </th>
                    <th><span class="visually-hidden">Edit</span></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="hide">
                            @Html.HiddenFor(modelItem => item.Id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td>
                            @Html.Raw(@item.GetDisplayMessage())
                        </td>
                        <td>
                            @if (item.Actioned)
                            {
                                <span class="text-success">Yes</span>
                            }
                            else
                            {
                                <span class="text-danger">No</span>
                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Submitted)
                        </td>
                        <td class="text-center">
                            <a asp-action="@nameof(ContactUsController.Details)" asp-route-id="@item.Id" class="btn btn-primary">Edit</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>


<script src="~/js/Pages/ContactUs.js" asp-append-version="true"></script>